# src = 'https://www.pland.gov.hk/pland_en/info_serv/digital_planning_data/Metadata/DEV_PLAN_SHP.json'

import json
import requests
import codecs
import os

#Get JSON file
r = requests.get("https://www.pland.gov.hk/pland_en/info_serv/digital_planning_data/Metadata/DEV_PLAN_SHP.json")
decoed_data = codecs.decode(r.text.encode(), 'utf-8-sig')
data = json.loads(decoed_data)

for i, dt in enumerate(data[:3]):
    response = requests.get(dt['SHP_LINK'])
    name = os.path.basename(dt['SHP_LINK'])
    open("{}".format(name), "wb").write(response.content)
